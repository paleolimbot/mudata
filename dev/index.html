<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interchange Tools for Multi-Parameter Spatiotemporal Data • mudata2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Interchange Tools for Multi-Parameter Spatiotemporal Data">
<meta property="og:description" content="Formatting and structuring multi-parameter spatiotemporal data
  is often a time-consuming task. This package offers functions and data structures 
  designed to easily organize and visualize these data for applications in geology, 
  paleolimnology, dendrochronology, and paleoclimate. See Dunnington and Spooner (2018)
  &lt;doi:10.1139/facets-2017-0026&gt;.">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mudata2</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.7.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/mudata.html">Using mudata objects</a>
    </li>
    <li>
      <a href="articles/mudata_create.html">Creating mudata objects</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/paleolimbot/mudata2">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mudata2" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mudata2" class="anchor"></a>mudata2</h1></div>
<!-- badges: start -->

<p>The <strong>mudata2</strong> package provides tools to read, write, and document multi-parameter spatiotemporal data.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <strong>mudata2</strong> from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"mudata2"</span>)</a></code></pre></div>
<p>Or alternatively, you can the development version from github with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">remotes<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/remotes/man/install_github.html">install_github</a></span>(<span class="st">"paleolimbot/mudata"</span>)</a></code></pre></div>
</div>
<div id="what-is-mudata" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-mudata" class="anchor"></a>What is mudata?</h2>
<p>The <a href="https://www.facetsjournal.com/doi/10.1139/facets-2017-0026">mudata format</a> is a data table in a specific form, with data dictionaries for locations, parameters, and datasets contained in the data table. The term “mudata” refers to a (mostly) universal data structure; the term “multi-parameter spatiotemporal data” is a mouthful, but just means that you measured a bunch of things (parameters) in a bunch of places (locations) at a bunch of different times. The best example of this is historical climate data, because it is usually set up in such a way that there are climate stations (locations) that measure some things (parameters, like temperature, precipitation, wind, etc.) at various points in time. This package is designed primarily for climate data and sediment core data, however the format can be applied to many other types of data where parameters are measured along one or more common axes (time, depth, etc.).</p>
<p>A few examples from this package can be found in the <code>ns_climate</code>, <code>second_lake_temp</code>, and <code>alta_lake</code> datasets:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">ns_climate</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; A mudata object aligned along "date"</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;   distinct_datasets():  "ecclimate_monthly"</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;   distinct_locations(): "ANNAPOLIS ROYAL 6289", "BADDECK 6297" ... and 13 more</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;   distinct_params():    "dir_of_max_gust", "extr_max_temp" ... and 9 more</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;   src_tbls():           "data", "locations" ... and 3 more</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; tbl_data() %&gt;% head():</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; # A tibble: 6 x 7</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;   dataset        location       param      date       value flag  flag_text</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;      &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; 1 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-01-01    NA M     Missing  </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; 2 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-02-01    NA M     Missing  </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; 3 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-03-01    NA M     Missing  </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; 4 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-04-01    NA M     Missing  </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; 5 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-05-01    NA M     Missing  </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; 6 ecclimate_mon… SABLE ISLAND … mean_max_… 1897-06-01    NA M     Missing</span></a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">second_lake_temp</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; A mudata object aligned along "datetime", "depth"</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt;   distinct_datasets():  "second_lake_temp"</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;   distinct_locations(): "Second Lake"</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt;   distinct_params():    "temp"</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;   src_tbls():           "data", "locations" ... and 3 more</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; tbl_data() %&gt;% head():</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; # A tibble: 6 x 6</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt;   dataset          location    param datetime            depth value</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;       &lt;chr&gt; &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 1 second_lake_temp Second Lake temp  2013-07-10 07:14:56     0  23.9</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 2 second_lake_temp Second Lake temp  2013-07-10 08:14:56     0  23.8</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; 3 second_lake_temp Second Lake temp  2013-07-10 09:29:56     0  23.7</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 4 second_lake_temp Second Lake temp  2013-07-10 09:44:56     0  23.8</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 5 second_lake_temp Second Lake temp  2013-07-10 10:14:56     0  23.7</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 6 second_lake_temp Second Lake temp  2013-07-10 11:29:56     0  23.9</span></a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">alta_lake</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">#&gt; A mudata object aligned along "depth", "age"</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt;   distinct_datasets():  "alta_lake16"</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;   distinct_locations(): "ALGC2"</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;   distinct_params():    "As", "C" ... and 12 more</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;   src_tbls():           "data", "locations" ... and 3 more</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; tbl_data() %&gt;% head():</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; # A tibble: 6 x 10</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;   dataset     location param depth   age value stdev units     n zone  </span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; 1 alta_lake16 ALGC2    As     0.25 2015.  23    NA   ppm       1 Zone 3</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; 2 alta_lake16 ALGC2    As     0.75 2011.  24.3  23.0 ppm       3 Zone 3</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt; 3 alta_lake16 ALGC2    As     1.25 2008.  60    NA   ppm       1 Zone 3</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; 4 alta_lake16 ALGC2    As     1.75 2003.  60    NA   ppm       1 Zone 3</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; 5 alta_lake16 ALGC2    As     2.5  1998.  43.4  NA   ppm       1 Zone 3</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt; 6 alta_lake16 ALGC2    As     3.5  1982.  42    NA   ppm       1 Zone 3</span></a></code></pre></div>
<p>For examples of using and creating <code>mudata</code> objects, see <code><a href="articles/mudata.html">vignette("mudata", package = "mudata2")</a></code> and <code><a href="articles/mudata_create.html">vignette("mudata_create", package = "mudata2")</a></code>.</p>
</div>
<div id="why-do-i-need-it" class="section level2">
<h2 class="hasAnchor">
<a href="#why-do-i-need-it" class="anchor"></a>Why do I need it?</h2>
<p>There are plenty of ways to store “multi-parameter spatiotemporal data”, but few of them are good at keeping metadata like what method was used to measure a parameter, the latitude and longitude of a sample location, or the level of uncertainty of a parameter measurement. These metadata are rarely used directly in analyses, but are invaluable to correctly interpret the results (and to correctly choose the analysis).</p>
</div>
<div id="when-do-i-need-it" class="section level2">
<h2 class="hasAnchor">
<a href="#when-do-i-need-it" class="anchor"></a>When do I need it?</h2>
<p>We have used the mudata format in the following situations:</p>
<ul>
<li><p><strong>Data from two or more sources need to be combined</strong>: Rather than choose the format of one source or the other, we convert both sources to a mudata object, then combine them. The mudata format can handle almost any kind of data with minimal metadata loss, so not only is the data combined, but any contextual information provided with the data is kept. One of the projects that inspired continuing development on this package was collecting 10 years drinking water quality data from tens of communities around Atlantic Canada. Because no community ever provided the same information in the same format, we converted each community’s data to mudata, then combined them prior to analysis.</p></li>
<li><p><strong>Data need to be archived</strong>: One of the first uses of this package was to respond to a request along the lines of “send me all your data in addition to the report”. We had collected tens of sediment cores, sectioned them in to many slices, and measured 30-40 elemental concentrations for each. We needed a way to report the data, how we measured the elemental concentrations, and from where we had collected the cores. The mudata format is able to do all of these things, with the added bonus that our clients could read our data from both R and Excel.</p></li>
<li><p><strong>Somebody sends you data in mudata format</strong>: This probably only applies so far to the people to whom we have sent data, but if you happen to be one of them, you can use <code><a href="reference/write_mudata.html">read_mudata()</a></code>, the various subsetting functions (like <code><a href="reference/selecters.html">select_locations()</a></code>), and <code><a href="reference/tbl_data.html">tbl_data()</a></code>/<code><a href="reference/tbl_data.html">tbl_data_wide()</a></code> to extract the data you need and be on your way.</p></li>
</ul>
</div>
<div id="more-information" class="section level2">
<h2 class="hasAnchor">
<a href="#more-information" class="anchor"></a>More information</h2>
<p>For more examples of mudata usage, see the package vignettes: <code><a href="articles/mudata.html">vignette("mudata", package = "mudata2")</a></code> and <code><a href="articles/mudata_create.html">vignette("mudata_create", package = "mudata2")</a></code></p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Dunnington DW and Spooner IS (2018). “Using a linked table-based structure to encode self-describing multiparameter spatiotemporal data”. FACETS. <a href="https://doi.org/10.1139/facets-2017-0026">doi:10.1139/facets-2017-0026</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=mudata2">https://​cloud.r-project.org/​package=mudata2</a>
</li>
<li>Browse source code at <br><a href="https://github.com/paleolimbot/mudata2">https://​github.com/​paleolimbot/​mudata2</a>
</li>
<li>Report a bug at <br><a href="https://github.com/paleolimbot/mudata2/issues">https://​github.com/​paleolimbot/​mudata2/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Dewey Dunnington <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9415-4582" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=mudata2"><img src="https://cranlogs.r-pkg.org/badges/mudata2"></a></li>
<li><a href="https://travis-ci.org/paleolimbot/mudata2"><img src="https://travis-ci.org/paleolimbot/mudata2.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/github/paleolimbot/mudata2?branch=master"><img src="https://img.shields.io/codecov/c/github/paleolimbot/mudata2/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://doi.org/10.1139/facets-2017-0026"><img src="https://img.shields.io/static/v1?label=DOI&amp;message=10.1139%2Ffacets-2017-0026&amp;color=blue" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Dewey Dunnington.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
